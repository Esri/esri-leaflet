<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="not-ie"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  
    <title>Introduction to Layer Types | Esri Leaflet</title>
  

  
    <meta name="description" content="Learn how to differentiate between the layer types that make up the ArcGIS platform.">
  

  <meta name="description" content="Esri Leaflet">
  <meta name="viewport" content="width=device-width">

  <!--[if lt IE 9]>
    <script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv-printshiv.js"></script>
  <![endif]-->

  <!-- google fonts -->
  <link href='//fonts.googleapis.com/css?family=Vollkorn:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Source+Code+Pro:300">
  <link href='//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

  <!-- stylesheet -->
  <link rel="stylesheet" href="../css/style.css">

  

  
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet-src.js"></script>
    <script src="https://unpkg.com/esri-leaflet@2.0.7"></script>
  

  

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44963317-3', 'auto');
    ga('send', 'pageview');
  </script>
  <!-- End Google Analytics -->
</head>
<body>
  <div class="page-content ">
    <div class="container">
      <a class="site-nav" href="../" class="left logo">Esri Leaflet</a>
      <nav class="right">
        <a class="site-nav" href="../tutorials/">Tutorials</a>
        <a class="site-nav" href="../plugins/">Plugins</a>
        <a class="site-nav" href="../examples/">Examples</a>
        <a class="site-nav" href="../api-reference/">API Reference</a>
        <a class="site-nav" href="../download/">Download</a>
        <a class="site-nav" href="https://github.com/Esri/esri-leaflet">View on GitHub</a>
      </nav>
    </div>
    <div id="background-map" class="background-map"></div>

  

<div class="container white">
  

<aside class="sidebar">
  <h5>General</h5>
  <nav>
    <a href="create-your-first-app.html">Create your First App</a>
    <a href="introduction-to-layer-types.html">Introduction to Layer Types</a>
    <a href="working-with-feature-layers.html">Working with Feature Layers</a>
    <a href="working-with-authenticated-services.html">Working with Authenticated Services</a>
    <a href="discovering-content.html">Discovering Content</a>
  </nav>

  <h5>Migration Guides</h5>
  <nav>
    <a href="migrating-1-to-2.html">1.0.0 to 2.0.0</a>
    <a href="migrating-release-candidates-to-1.html">Release Candidates to 1.0.0</a>
  </nav>

  <h5>Module Systems</h5>
  <nav>
    <a href="using-with-browserify.html">Browserify</a>
    <a href="using-with-webpack.html">WebPack</a>
    <a href="using-with-jspm.html">JSPM</a>
    <a href="using-with-requirejs.html">RequireJS</a>
  </nav>
</aside>


<div class="main-content">
  <h1 id="introduction-to-layer-types">Introduction to Layer Types</h1>
<p>Learn how to differentiate between the layer types that make up the ArcGIS platform.</p>
<blockquote>
<p>Note: Copyright text from ArcGIS services are added to map attribution automatically. The <a href="https://github.com/esri/esri-leaflet#terms">Terms of Use</a> for Esri hosted services apply to <em>all</em> Leaflet applications.</p>
</blockquote>
<h2 id="feature-layers">Feature Layers</h2>
<p>A <a href="http://esri.github.io/esri-leaflet/api-reference/layers/feature-layer.html">Feature Layer</a> involves requesting feature attributes and geometry from ArcGIS Online or ArcGIS Server to display in your web app. Individual features are exposed to the developer as GeoJSON, whether the service fulfilling the request emits the format natively or not.</p>
<p>Feature Layers are great because they contain all the attribute information, this makes things like creating popups really snappy because the client app already has all the information it needs. </p>
<p>That said, Feature Layers can potentially transfer large amounts of data from the server to the client. For example you wouldn&#39;t want to use a Feature Layer if you were drawing draw tax parcels for the whole of the USA. To address this Esri Leaflet provides a few options. By default we only request features within the current map extent.  This allows you to extract a manageable number of a features from a service with lots of data on the back end.</p>
<p>Esri Leaflet provides other mechanisms to optimize performance. You can control which attributes are fetched, generalizing geometry before it is downloaded and filter data using SQL clauses. However, there will always be a limit to the amount of features which it makes sense to try and display clientside, this limit depends on the individual service, and the browser being used. Moreover, the limit defined by the service controls the maximum number of features that can be returned by any single query. </p>
<h3 id="how-to-consume-feature-layers-from-arcgis-server">How to consume Feature Layers from ArcGIS Server</h3>
<p>Feature Layers can be created in Esri Leaflet from both <code>MapServer</code> or <code>FeatureServer</code> services published by ArcGIS Server. To utilize either service type you need to append the specific layer index, eg &quot;ESRI_Population_World/MapServer<em>/0</em>&quot;.</p>
<p>So for example both of these are valid:</p>
<pre><code class="language-js">L.esri.featureLayer({
    url: <span class="string">'.../ArcGIS/rest/services/BloomfieldHillsMichigan/LandusePlanning/FeatureServer/0'</span>
})

L.esri.featureLayer({
    url: <span class="string">'.../ArcGIS/rest/services/Demographics/ESRI_Population_World/MapServer/0'</span>
})</code></pre>
<p>If you want to edit data in the browser then you will need to consume a <code>FeatureServer</code> service.</p>
<h3 id="what-does-the-data-look-like-">What does the data look like?</h3>
<p>When you request a feature layer from an ArcGIS Server the response will look something like </p>
<pre><code class="language-js">{<span class="string">"type"</span>:<span class="string">"FeatureCollection"</span>,<span class="string">"crs"</span>:{<span class="string">"type"</span>:<span class="string">"name"</span>,<span class="string">"properties"</span>:{<span class="string">"name"</span>:<span class="string">"EPSG:4326"</span>}},
 <span class="string">"features"</span>:[
     {<span class="string">"type"</span>:<span class="string">"Feature"</span>,
     <span class="string">"id"</span>:<span class="number">2</span>,
     <span class="string">"geometry"</span>:{<span class="string">"type"</span>:<span class="string">"Point"</span>,<span class="string">"coordinates"</span>:[-<span class="number">122.647466</span>,<span class="number">45.543523</span>]},
     <span class="string">"properties"</span>:{<span class="string">"FID"</span>:<span class="number">2</span>,<span class="string">"GEODB_OID"</span>:<span class="number">144</span>,<span class="string">"OBJECTID"</span>:<span class="number">144</span>,<span class="string">"TREEID"</span>:<span class="number">164</span>,<span class="string">"STATUS"</span>:<span class="string">"Heritage"</span>,<span class="string">"SCIENTIFIC"</span>:<span class="string">"Platanus x acerifolia"</span>,<span class="string">"COMMON_NAM"</span>:<span class="string">"London planetree"</span>,<span class="string">"STATEID"</span>:<span class="string">"1N1E26AC  12000"</span>,<span class="string">"ADDRESS"</span>:<span class="string">"1728 NE STANTON ST"</span>,<span class="string">"HEIGHT"</span>:<span class="number">82</span>,<span class="string">"SPREAD"</span>:<span class="number">85</span>,<span class="string">"CIRCUMFERE"</span>:<span class="number">15.44</span>,<span class="string">"DIAMETER"</span>:<span class="number">59</span>,<span class="string">"YEAR"</span>:<span class="number">1997</span>,<span class="string">"OWNER"</span>:<span class="string">"Private, Front Yard"</span>,<span class="string">"NOTES"</span>:<span class="string">"south side between NE 17th Ave and NE 18th Ave"</span>}
     }
  ]
}</code></pre>
<p>You can see in the above sample that we have some location information in the <code>coordinates</code> array as well as the feature properties in the <code>properties</code> object.</p>
<h2 id="dynamic-map-layers">Dynamic Map Layers</h2>
<p>A <a href="http://esri.github.io/esri-leaflet/api-reference/layers/dynamic-map-layer.html">Dynamic Map Layer</a> involves pulling down a representation of your data from an ArcGIS Server instance to your web app, this means an image such as a jpg or a png. Esri-Leaflet then takes care of placing the image on the correct part of the map for you.</p>
<p>The benefit of a Dynamic Map Layer is that only the final representation of the data is sent to the client in the form of an image, this is hugely beneficial when dealing with large datasets with complex geometries. Rather than sending megabytes of data, an image can be sent instead. Dynamic Map Layers are also handy as images are rendered on the fly by the server, this is beneficial if your dataset is constantly changing. </p>
<p>The downside of a Dynamic Map Layer is that if you require additional information about a feature (such as attribute information to generate a popup) then you&#39;re app will request additional information from the server which can be time-consuming. Esri-Leaflet does cover most of the common use cases for these additional requests (such as <a href="http://esri.github.io/esri-leaflet/examples/customizing-popups.html">generating popups</a>) however you will notice that popups are not as responsive as with a Feature Layer.</p>
<h3 id="how-to-consume-dynamic-map-layers-from-arcgis-server">How to consume Dynamic Map Layers from ArcGIS Server</h3>
<p>Dynamic Map Layers can be created in Esri-Leaflet from a <code>MapServer</code> service published by ArcGIS Server. </p>
<pre><code class="language-js"><span class="comment">// NOTE - The url contains 'MapServer'</span>
L.esri.dynamicMapLayer({
    url: <span class="string">'https://services.arcgisonline.com/arcgis/rest/services/Specialty/Soil_Survey_Map/MapServer'</span>
})</code></pre>
<h3 id="what-does-the-data-look-like-">What does the data look like?</h3>
<p>When you request a Dynamic Map Layer from an ArcGIS Server the response might look something like the following:</p>
<p><img src="https://services.arcgisonline.com/arcgis/rest/services/Specialty/Soil_Survey_Map/MapServer/export?bbox=-15214026.109881485,1868732.467515991,-7337954.715376922,8365268.375529694&amp;size=600,200&amp;dpi=96&amp;format=png24&amp;transparent=true&amp;bboxSR=3857&amp;imageSR=3857&amp;f=image" alt="Map tile"></p>
<p>As you can see, it is simply an image!</p>
<h2 id="tiled-map-layers">Tiled Map Layers</h2>
<p>A <a href="http://esri.github.io/esri-leaflet/api-reference/layers/tiled-map-layer.html">Tiled Map Layer</a> is similar to a Dynamic Map Layer however it involves pulling down a pre-rendered representation of your data from a tile cache in ArcGIS Server.</p>
<p>The benefit of a Tiled Map Layer is that it can respond more quickly than a Dynamic Map Layer as an image has already been rendered and is available on the server. Tile Map Layers are typically used for basemaps.</p>
<p>The downside of a Tiled Map Layer is that it can take up a lot of space on your server as each tile has to be pre-rendered. Your tiles also only represent the state of your data when the tile was created, they don&#39;t automatically update to reflect changes to your data.</p>
<h3 id="how-to-consume-tiled-map-layers-from-arcgis-server">How to consume Tiled Map Layers from ArcGIS Server</h3>
<p>Tiled Map Layers can be created in Esri-Leaflet from a <code>MapServer</code> service published by ArcGIS Server that contains a <code>Single Fused Map Cache</code>, you would create the cache when you publish a layer in ArcGIS Server.</p>
<pre><code class="language-js"><span class="comment">// NOTE - When you visit the url you will see information relating to the tile cache</span>
L.esri.tiledMapLayer({
    url: <span class="string">'https://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer'</span>
})</code></pre>
<h3 id="what-does-the-data-look-like-">What does the data look like?</h3>
<p>You can see an example Tiled Map Layer response from ArcGIS Server below. It is simply an image!</p>
<p><img src="http://sampleserver1.arcgisonline.com/ArcGIS/rest/services/PublicSafety/PublicSafetyBasemap/MapServer/tile/6/146/267" alt="Map tile"></p>

  <p><a href="http://github.com/esri/esri-leaflet-doc/edit/master/src/pages/tutorials/introduction-to-layer-types.md">Edit this page on GitHub</a></p>
</div>

  <div style='clear:both;'></div>
</div>
<div class="container centered-text">
  <p class="copyright">Esri Leaflet is a project from the <a href="http://pdx.esri.com">Esri PDX R&amp;D Center</a> and the <a href="https://github.com/Esri/esri-leaflet/graphs/contributors">Esri Community</a></p>
</div>

  </div>
  <script src="../js/script.js"></script>
  </body>
</html>