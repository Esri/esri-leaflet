<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="not-ie"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  
    <title>Styling clusters | Esri Leaflet</title>
  

  
    <meta name="description" content="Customizing the display of clusters and markers with &lt;code&gt;L.DivIcon&lt;/code&gt; and &lt;code&gt;L.MarkerClusterGroup&lt;/code&gt; options. More information about Feature Layers can be found in the &lt;a href=&quot;../api-reference/layers/feature-layer.html&quot;&gt;L.esri.FeatureLayer&lt;/a&gt; documentation.">
  

  
    <meta http-equiv="refresh" content="0;URL='https://developers.arcgis.com/esri-leaflet/samples/styling-clusters/'" />
  

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--[if lt IE 9]>
    <script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv-printshiv.js"></script>
  <![endif]-->

  <!-- google fonts -->
  <link href="//fonts.googleapis.com/css?family=Vollkorn:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Source+Code+Pro:300">
  <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- stylesheet -->
  <link rel="stylesheet" href="../css/style.css">

  

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

  
    <script src="https://unpkg.com/esri-leaflet@3.0.8/dist/esri-leaflet.js"
      integrity="sha512-E0DKVahIg0p1UHR2Kf9NX7x7TUewJb30mxkxEm2qOYTVJObgsAGpEol9F6iK6oefCbkJiA4/i6fnTHzM6H1kEA=="
      crossorigin=""></script>
  

  
  <!-- Load Esri Leaflet Vector from CDN -->
  <script src="https://unpkg.com/esri-leaflet-vector@4.0.0/dist/esri-leaflet-vector.js"
    integrity="sha512-EMt/tpooNkBOxxQy2SOE1HgzWbg9u1gI6mT23Wl0eBWTwN9nuaPtLAaX9irNocMrHf0XhRzT8B0vXQ/bzD0I0w=="
    crossorigin=""></script>
  

  

  
  <!-- Load Leaflet MarkerCluster and Esri Leaflet Cluster from CDN -->
  <link rel="stylesheet" type="text/css"
    href="https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.Default.css"
    integrity="sha512-6ZCLMiYwTeli2rVh3XAPxy3YoR5fVxGdH/pz+KMCzRY2M65Emgkw00Yqmhh8qLGeYQ3LbVZGdmOX9KUjSKr0TA=="
    crossorigin="">
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.css"
    integrity="sha512-mQ77VzAakzdpWdgfL/lM1ksNy89uFgibRQANsNneSTMD/bj0Y/8+94XMwYhnbzx8eki2hrbPpDm0vD0CiT2lcg=="
    crossorigin="">
  <script src="https://unpkg.com/leaflet.markercluster@1.5.0/dist/leaflet.markercluster.js"
    integrity="sha512-pWPELjRaw2ZdoT0PDi7iRpRlk1XX3rtnfejJ/HwskyojpHei+9hKpwdphC4yssNt4FM0TjMQOmMrk6ZYSn274w=="
    crossorigin=""></script>
  <script src="https://unpkg.com/esri-leaflet-cluster@3.0.0/dist/esri-leaflet-cluster.js"
    integrity="sha512-XFCzSxay1bEwLt/pTNuKEw11WbMGlWUqSLMGUtsle2Zbddt2C5uf18w0HeHbc0NP9BTFy1Mzhab7Bkr+nxp34g=="
    crossorigin=""></script>
  

  
</head>
<body>
  <div class="page-content ">
    <div class="container">
      <span id="mobileMenuButton" class="mobileMenuButton">&#9776;</span>
      <a class="site-nav" href="../" class="left logo">Esri Leaflet</a>
      <nav id="site-nav-wrapper" class="site-nav-wrapper">
        <a class="site-nav" href="../tutorials/">Tutorials</a>
        <a class="site-nav" href="../examples/">Examples</a>
        <a class="site-nav" href="../api-reference/">API Reference</a>
        <a class="site-nav" href="../plugins/">Plugins</a>
        <a class="site-nav" href="../download/">Download</a>
        <a class="site-nav" href="https://github.com/Esri/esri-leaflet">View on GitHub</a>
      </nav>
    </div>
    <div id="background-map" class="background-map"></div>
    <div class="container alertArea">This content has moved to <a href="https://developers.arcgis.com/esri-leaflet/">developers.arcgis.com</a>. Please update your bookmarks!</div>

  

<div class="container white">
  

<aside class="sidebar">
  <nav>
    <a href="../examples/">Quickstart</a>
  </nav>

  <h5>Basemaps</h5>
  <nav>
    <a href="../examples/showing-a-basemap.html">Showing an ArcGIS Basemap</a>
    <a href="../examples/basemap-with-labels.html">Basemap with Labels</a>
    <a href="../examples/composing-basemaps.html">Composing Basemaps</a>
    <a href="../examples/switching-basemaps.html">Switching Basemaps</a>
  </nav>

  <h5>Feature Layers</h5>
  <nav>
    <a href="../examples/simple-feature-layer.html">Simple FeatureLayer</a>
    <a href="../examples/styling-feature-layer-points.html">Styling Points</a>
    <a href="../examples/styling-feature-layer-polylines.html">Styling Lines</a>
    <a href="../examples/styling-feature-layer-polygons.html">Styling Polygons</a>
    <a href="../examples/feature-layer-popups.html">Custom Popups</a>
    <a href="../examples/querying-feature-layers-1.html">Querying Features #1</a>
    <a href="../examples/querying-feature-layers-2.html">Querying Features #2</a>
    <a href="../examples/spatial-queries.html">Spatial Queries</a>
    <a href="../examples/simplifying-complex-features.html">Simplifying Complex Features</a>
    <a href="../examples/zooming-to-all-features-1.html">Zoom to all Features #1</a>
    <a href="../examples/zooming-to-all-features-2.html">Zoom to all Features #2</a>
    <a href="../examples/labeling-features.html">Labeling Features</a>
    <a href="../examples/layer-ordering.html">Ordering Layers</a>
    <a href="../examples/simple-editing.html">Editing #1</a>
    <a href="../examples/editable.html">Editing #2</a>
    <a href="../examples/cedar-chart.html">Dynamic Chart (Cedar)</a>
    <a href="../examples/dynamic-chart.html">Dynamic Chart (Chart.js)</a>
  </nav>

  <h5>Feature Layer Plugins</h5>
  <nav>
    <a href="../examples/visualize-points-as-a-heatmap.html">Points as a Heatmap</a>
    <a href="../examples/styling-heatmaps.html">Styling a Heatmap</a>
    <a href="../examples/visualizing-time-with-feature-layer.html">Time Enabled Services</a>
    <a href="../examples/clustering-feature-layers.html">Clustering Points</a>
    <a href="../examples/styling-clusters.html">Styling Clusters</a>
  </nav>

  <h5>Tile Layers</h5>
  <nav>
    <a href="../examples/tile-layer-1.html">Tiles from a Map Service #1</a>
    <a href="../examples/tile-layer-2.html">Tiles from a Map Service #2</a>
  </nav>

  <h5>Dynamic Map Layer</h5>
  <nav>
    <a href="../examples/simple-dynamic-map-layer.html">Simple Dynamic Map Layer</a>
    <a href="../examples/identifying-features.html">Identifying Features</a>
    <a href="../examples/customizing-popups.html">Custom Popups</a>
    <a href="../examples/visualizing-time-on-dynamic-map-layer.html">Time Ranges</a>
  </nav>

  <h5>Image Map Layer</h5>
  <nav>
    <a href="../examples/simple-image-map-layer.html">Simple Image Map Layer</a>
    <a href="../examples/image-map-layer-rendering-rule.html">Rendering Rule</a>
    <a href="../examples/identifying-imagery.html">Identify Imagery</a>
    <a href="../examples/image-map-layer-mosaic-rule.html">Mosaic Rule</a>
    <a href="../examples/imagery-popups.html">Custom Popups</a>
    <a href="../examples/visualizing-time-on-image-layer.html">Time Ranges</a>
  </nav>

  <h5>Non-Mercator Projections</h5>
  <nav>
    <a href="../examples/non-mercator-projection.html">Tiles + Feature Layer</a>
    <a href="../examples/non-mercator-projection-2.html">Tiles + Dynamic Map Layer</a>
  </nav>

  <h5>Query</h5>
  <nav>
    <a href="../examples/feature-layer-snapshot.html">Layer "Snapshot"</a>
    <a href="../examples/query-no-map.html">Query without a Map</a>
  </nav>

  <h5>Authentication</h5>
  <nav>
    <a href="../examples/arcgis-online-auth.html">ArcGIS Online OAuth</a>
    <a href="../examples/premium-content.html">Premium ArcGIS Online Content</a>
    <a href="../examples/arcgis-server-auth.html">ArcGIS Server username/password</a>
  </nav>

  <h5>Geocoding</h5>
  <nav>
    <a href="../examples/geocoding-control.html">Geocoding Control</a>
    <a href="../examples/search-map-service.html">Searching Map Services</a>
    <a href="../examples/search-feature-layer.html">Searching Feature Layers</a>
    <a href="../examples/search-feature-layer-search-mode.html">Geocoding Control - searchMode</a>
    <a href="../examples/center-map-on-address.html">Center the Initial Map State</a>
    <a href="../examples/reverse-geocoding.html">Reverse Geocoding</a>
  </nav>

  <h5>Other Plugins</h5>
  <nav>
    <a href="../examples/renderers-plugin.html">Server Side Rendering</a>
    <a href="../examples/stream-plugin.html">Stream Layer</a>
    <a href="../examples/webmap.html?id=d143b33f1a02421d86b6a4ca1d7b7cd0">Loading Webmaps</a>
    <a href="../examples/gp-plugin.html">Geoprocessing</a>
  </nav>

  <h5>Misc.</h5>
  <nav>
    <a href="../examples/layers-control.html">Control.Layers</a>
    <a href="../examples/turf.html">Turf.js Mashup</a>
    <a href="../examples/getting-service-metadata.html">Getting Service Metadata</a>
    <a href="../examples/parse-feature-collection.html">Parsing Feature Collections</a>
  </nav>
</aside>


<div class="example-content">
<div class="wrap">
  <h1>Styling clusters</h1>
  <p>Customizing the display of clusters and markers with <code>L.DivIcon</code> and <code>L.MarkerClusterGroup</code> options. More information about Feature Layers can be found in the <a href="../api-reference/layers/feature-layer.html">L.esri.FeatureLayer</a> documentation.</p>
</div>
<div id="map-wrapper">
  <script>
    const apiKey = 'AAPKb10821df102a46a4b930958d7a6a06593sdla7i0cMWoosp7XXlYflDTAxsZMUq-oKvVOaom9B8CokPvJFd-sE88vOQ2B_rC'; // eslint-disable-line no-unused-vars, eol-last
  </script>
  

<style>
  .cluster {
    background: #2d84c8;
    border-radius: 50%;
    text-align: center;
    color: white;
    font-weight: 700;
    border: 1px solid #2d84c8;
    font-family: monospace;
  }

  .cluster:before {
    content: ' ';
    position: absolute;
    border-radius: 50%;
    z-index: -1;
    top: 1px;
    left: 1px;
    right: 1px;
    bottom: 1px;
    border: 1px solid white;
  }

  .digits-1 {
    font-size: 14px;
    height: 28px;
    width: 28px;
    line-height: 28px;
    margin-top: -14px;
    margin-left: -14px;
  }

  .digits-2 {
    font-size: 16px;
    height: 34px;
    width: 34px;
    line-height: 35px;
    margin-top: -17px;
    margin-left: -17px;
  }

  .digits-2:before {
    border-width: 2px;
  }

  .digits-3 {
    font-size: 18px;
    height: 48px;
    width: 47px;
    line-height: 47px;
    border-width: 3px;
    margin-top: -24px;
    margin-left: -24px;
  }

  .digits-3:before {
    border-width: 3px;
  }

  .digits-4 {
    font-size: 18px;
    height: 58px;
    width: 58px;
    line-height: 57px;
    border-width: 4px;
    margin-top: -29px;
    margin-left: -29px;
  }

  .digits-4:before {
    border-width: 4px;
  }
</style>

<div id="map"></div>

<script>
  var map = L.map('map', {
    maxZoom: 18 // the clustering plugin needs some help understanding the map's maxZoom
  }).setView([0, 0], 2);

  L.esri.Vector.vectorBasemapLayer('ArcGIS:NavigationNight', {
    apikey: apiKey // Replace with your API key - https://developers.arcgis.com
  }).addTo(map);

  // create a new cluster layer (new syntax at 2.0.0)
  var earthquakes = L.esri.Cluster.featureLayer({
    url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Earthquakes_Since1970/MapServer/0',
    spiderfyOnMaxZoom: false,
    removeOutsideVisibleBounds: true,
    disableClusteringAtZoom: 8,
    // this function defines how the icons
    // representing clusters are created
    iconCreateFunction: function (cluster) {
      // get the number of items in the cluster
      var count = cluster.getChildCount();

      // figure out how many digits long the number is
      var digits = (count + '').length;

      // Return a new L.DivIcon with our classes so we can
      // style them with CSS. Take a look at the CSS in
      // the <head> to see these styles. You have to set
      // iconSize to null if you want to use CSS to set the
      // width and height.
      return L.divIcon({
        html: count,
        className: 'cluster digits-' + digits,
        iconSize: null
      });
    },
    // This function defines how individual markers
    // are created. You can see we are using the
    // value of the "magnitude" field to set the symbol
    pointToLayer: function (geojson, latlng) {
      var magnitude = (geojson.properties.magnitude);
      var earthquakeSymbol = '';

      if (!magnitude) {
        earthquakeSymbol = 'https://esri.github.io/esri-leaflet/img/earthquake-icon.png';
      } else if (magnitude <= 4.999) {
        earthquakeSymbol = 'https://esri.github.io/esri-leaflet/img/yellow-triangle.png';
      } else if (magnitude >= 5 && magnitude <= 6.999) {
        earthquakeSymbol = 'https://esri.github.io/esri-leaflet/img/orange-triangle.png';
      } else if (magnitude >= 7) {
        earthquakeSymbol = 'https://esri.github.io/esri-leaflet/img/red-triangle.png';
      }

      var mapIcon = L.icon({
        iconUrl: earthquakeSymbol,
        iconSize: [20, 20]
      });

      return L.marker(latlng, {
        icon: mapIcon
      });
    }
  }).addTo(map);

  earthquakes.bindPopup(function (layer) {
    return L.Util.template('Magnitude <strong>{magnitude}</strong> earthquake', layer.feature.properties);
  });
</script>

</div>
<pre><code class="language-xml"><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
<span class="tag">&lt;<span class="title">head</span>&gt;</span>
  <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span> /&gt;</span>
  <span class="tag">&lt;<span class="title">title</span>&gt;</span>Styling clusters<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
  <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">name</span>=<span class="value">"viewport"</span> <span class="attribute">content</span>=<span class="value">"initial-scale=1,maximum-scale=1,user-scalable=no"</span> /&gt;</span>

  <span class="comment">&lt;!-- Load Leaflet from CDN --&gt;</span>
  <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>/&gt;</span>
  <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

  <span class="comment">&lt;!-- Load Esri Leaflet from CDN --&gt;</span>
  <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://unpkg.com/esri-leaflet@3.0.8/dist/esri-leaflet.js"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-E0DKVahIg0p1UHR2Kf9NX7x7TUewJb30mxkxEm2qOYTVJObgsAGpEol9F6iK6oefCbkJiA4/i6fnTHzM6H1kEA=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

  <span class="comment">&lt;!-- Load Esri Leaflet Vector from CDN --&gt;</span>
  <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://unpkg.com/esri-leaflet-vector@4.0.0/dist/esri-leaflet-vector.js"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-EMt/tpooNkBOxxQy2SOE1HgzWbg9u1gI6mT23Wl0eBWTwN9nuaPtLAaX9irNocMrHf0XhRzT8B0vXQ/bzD0I0w=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

  <span class="comment">&lt;!-- Load Leaflet MarkerCluster and Esri Leaflet Cluster from CDN --&gt;</span>
  <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">type</span>=<span class="value">"text/css"</span>
    <span class="attribute">href</span>=<span class="value">"https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.Default.css"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-6ZCLMiYwTeli2rVh3XAPxy3YoR5fVxGdH/pz+KMCzRY2M65Emgkw00Yqmhh8qLGeYQ3LbVZGdmOX9KUjSKr0TA=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>&gt;</span>
  <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">type</span>=<span class="value">"text/css"</span> <span class="attribute">href</span>=<span class="value">"https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.css"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-mQ77VzAakzdpWdgfL/lM1ksNy89uFgibRQANsNneSTMD/bj0Y/8+94XMwYhnbzx8eki2hrbPpDm0vD0CiT2lcg=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>&gt;</span>
  <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://unpkg.com/leaflet.markercluster@1.5.0/dist/leaflet.markercluster.js"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-pWPELjRaw2ZdoT0PDi7iRpRlk1XX3rtnfejJ/HwskyojpHei+9hKpwdphC4yssNt4FM0TjMQOmMrk6ZYSn274w=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://unpkg.com/esri-leaflet-cluster@3.0.0/dist/esri-leaflet-cluster.js"</span>
    <span class="attribute">integrity</span>=<span class="value">"sha512-XFCzSxay1bEwLt/pTNuKEw11WbMGlWUqSLMGUtsle2Zbddt2C5uf18w0HeHbc0NP9BTFy1Mzhab7Bkr+nxp34g=="</span>
    <span class="attribute">crossorigin</span>=<span class="value">""</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

  <span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css">
    <span class="tag">body</span> <span class="rules">{ <span class="rule"><span class="attribute">margin</span>:<span class="value"><span class="number">0</span></span></span>; <span class="rule"><span class="attribute">padding</span>:<span class="value"><span class="number">0</span></span></span>; <span class="rule">}</span></span>
    <span class="id">#map</span> <span class="rules">{ <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>; <span class="rule"><span class="attribute">top</span>:<span class="value"><span class="number">0</span></span></span>; <span class="rule"><span class="attribute">bottom</span>:<span class="value"><span class="number">0</span></span></span>; <span class="rule"><span class="attribute">right</span>:<span class="value"><span class="number">0</span></span></span>; <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">0</span></span></span>; <span class="rule">}</span></span>
  </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
<span class="tag">&lt;/<span class="title">head</span>&gt;</span>
<span class="tag">&lt;<span class="title">body</span>&gt;</span>

<span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css">
  <span class="class">.cluster</span> <span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#2d84c8</span></span></span>;
    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50</span>%</span></span>;
    <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;
    <span class="rule"><span class="attribute">color</span>:<span class="value"> white</span></span>;
    <span class="rule"><span class="attribute">font-weight</span>:<span class="value"> <span class="number">700</span></span></span>;
    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1</span>px solid <span class="hexcolor">#2d84c8</span></span></span>;
    <span class="rule"><span class="attribute">font-family</span>:<span class="value"> monospace</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.cluster</span><span class="pseudo">:before</span> <span class="rules">{
    <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">' '</span></span></span>;
    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;
    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50</span>%</span></span>;
    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> -<span class="number">1</span></span></span>;
    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">1</span>px</span></span>;
    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">1</span>px</span></span>;
    <span class="rule"><span class="attribute">right</span>:<span class="value"> <span class="number">1</span>px</span></span>;
    <span class="rule"><span class="attribute">bottom</span>:<span class="value"> <span class="number">1</span>px</span></span>;
    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1</span>px solid white</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.digits-1</span> <span class="rules">{
    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">14</span>px</span></span>;
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">28</span>px</span></span>;
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">28</span>px</span></span>;
    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">28</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-top</span>:<span class="value"> -<span class="number">14</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-left</span>:<span class="value"> -<span class="number">14</span>px</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.digits-2</span> <span class="rules">{
    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">16</span>px</span></span>;
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">34</span>px</span></span>;
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">34</span>px</span></span>;
    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">35</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-top</span>:<span class="value"> -<span class="number">17</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-left</span>:<span class="value"> -<span class="number">17</span>px</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.digits-2</span><span class="pseudo">:before</span> <span class="rules">{
    <span class="rule"><span class="attribute">border-width</span>:<span class="value"> <span class="number">2</span>px</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.digits-3</span> <span class="rules">{
    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">18</span>px</span></span>;
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">48</span>px</span></span>;
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">47</span>px</span></span>;
    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">47</span>px</span></span>;
    <span class="rule"><span class="attribute">border-width</span>:<span class="value"> <span class="number">3</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-top</span>:<span class="value"> -<span class="number">24</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-left</span>:<span class="value"> -<span class="number">24</span>px</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.digits-3</span><span class="pseudo">:before</span> <span class="rules">{
    <span class="rule"><span class="attribute">border-width</span>:<span class="value"> <span class="number">3</span>px</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.digits-4</span> <span class="rules">{
    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">18</span>px</span></span>;
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">58</span>px</span></span>;
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">58</span>px</span></span>;
    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">57</span>px</span></span>;
    <span class="rule"><span class="attribute">border-width</span>:<span class="value"> <span class="number">4</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-top</span>:<span class="value"> -<span class="number">29</span>px</span></span>;
    <span class="rule"><span class="attribute">margin-left</span>:<span class="value"> -<span class="number">29</span>px</span></span>;
  <span class="rule">}</span></span>

  <span class="class">.digits-4</span><span class="pseudo">:before</span> <span class="rules">{
    <span class="rule"><span class="attribute">border-width</span>:<span class="value"> <span class="number">4</span>px</span></span>;
  <span class="rule">}</span></span>
</span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>

<span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"map"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>

<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">
  <span class="keyword">var</span> map = L.map(<span class="string">'map'</span>, {
    maxZoom: <span class="number">18</span> <span class="comment">// the clustering plugin needs some help understanding the map's maxZoom</span>
  }).setView([<span class="number">0</span>, <span class="number">0</span>], <span class="number">2</span>);

  L.esri.Vector.vectorBasemapLayer(<span class="string">'ArcGIS:NavigationNight'</span>, {
    apikey: apiKey <span class="comment">// Replace with your API key - https://developers.arcgis.com</span>
  }).addTo(map);

  <span class="comment">// create a new cluster layer (new syntax at 2.0.0)</span>
  <span class="keyword">var</span> earthquakes = L.esri.Cluster.featureLayer({
    url: <span class="string">'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Earthquakes_Since1970/MapServer/0'</span>,
    spiderfyOnMaxZoom: <span class="literal">false</span>,
    removeOutsideVisibleBounds: <span class="literal">true</span>,
    disableClusteringAtZoom: <span class="number">8</span>,
    <span class="comment">// this function defines how the icons</span>
    <span class="comment">// representing clusters are created</span>
    iconCreateFunction: <span class="function"><span class="keyword">function</span> <span class="params">(cluster)</span> {</span>
      <span class="comment">// get the number of items in the cluster</span>
      <span class="keyword">var</span> count = cluster.getChildCount();

      <span class="comment">// figure out how many digits long the number is</span>
      <span class="keyword">var</span> digits = (count + <span class="string">''</span>).length;

      <span class="comment">// Return a new L.DivIcon with our classes so we can</span>
      <span class="comment">// style them with CSS. Take a look at the CSS in</span>
      <span class="comment">// the &lt;head&gt; to see these styles. You have to set</span>
      <span class="comment">// iconSize to null if you want to use CSS to set the</span>
      <span class="comment">// width and height.</span>
      <span class="keyword">return</span> L.divIcon({
        html: count,
        className: <span class="string">'cluster digits-'</span> + digits,
        iconSize: <span class="literal">null</span>
      });
    },
    <span class="comment">// This function defines how individual markers</span>
    <span class="comment">// are created. You can see we are using the</span>
    <span class="comment">// value of the "magnitude" field to set the symbol</span>
    pointToLayer: <span class="function"><span class="keyword">function</span> <span class="params">(geojson, latlng)</span> {</span>
      <span class="keyword">var</span> magnitude = (geojson.properties.magnitude);
      <span class="keyword">var</span> earthquakeSymbol = <span class="string">''</span>;

      <span class="keyword">if</span> (!magnitude) {
        earthquakeSymbol = <span class="string">'https://esri.github.io/esri-leaflet/img/earthquake-icon.png'</span>;
      } <span class="keyword">else</span> <span class="keyword">if</span> (magnitude &lt;= <span class="number">4.999</span>) {
        earthquakeSymbol = <span class="string">'https://esri.github.io/esri-leaflet/img/yellow-triangle.png'</span>;
      } <span class="keyword">else</span> <span class="keyword">if</span> (magnitude &gt;= <span class="number">5</span> &amp;&amp; magnitude &lt;= <span class="number">6.999</span>) {
        earthquakeSymbol = <span class="string">'https://esri.github.io/esri-leaflet/img/orange-triangle.png'</span>;
      } <span class="keyword">else</span> <span class="keyword">if</span> (magnitude &gt;= <span class="number">7</span>) {
        earthquakeSymbol = <span class="string">'https://esri.github.io/esri-leaflet/img/red-triangle.png'</span>;
      }

      <span class="keyword">var</span> mapIcon = L.icon({
        iconUrl: earthquakeSymbol,
        iconSize: [<span class="number">20</span>, <span class="number">20</span>]
      });

      <span class="keyword">return</span> L.marker(latlng, {
        icon: mapIcon
      });
    }
  }).addTo(map);

  earthquakes.bindPopup(<span class="function"><span class="keyword">function</span> <span class="params">(layer)</span> {</span>
    <span class="keyword">return</span> L.Util.template(<span class="string">'Magnitude &lt;strong&gt;{magnitude}&lt;/strong&gt; earthquake'</span>, layer.feature.properties);
  });
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

<span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span></code></pre>

<div class="wrap">
  <p><a href="https://github.com/Esri/esri-leaflet-doc/edit/master/src/pages/examples/styling-clusters.hbs">Edit this sample on GitHub</a></p>
</div>

<div class="mobile-menu">
  <aside class="sidebar">
  <nav>
    <a href="../examples/">Quickstart</a>
  </nav>

  <h5>Basemaps</h5>
  <nav>
    <a href="../examples/showing-a-basemap.html">Showing an ArcGIS Basemap</a>
    <a href="../examples/basemap-with-labels.html">Basemap with Labels</a>
    <a href="../examples/composing-basemaps.html">Composing Basemaps</a>
    <a href="../examples/switching-basemaps.html">Switching Basemaps</a>
  </nav>

  <h5>Feature Layers</h5>
  <nav>
    <a href="../examples/simple-feature-layer.html">Simple FeatureLayer</a>
    <a href="../examples/styling-feature-layer-points.html">Styling Points</a>
    <a href="../examples/styling-feature-layer-polylines.html">Styling Lines</a>
    <a href="../examples/styling-feature-layer-polygons.html">Styling Polygons</a>
    <a href="../examples/feature-layer-popups.html">Custom Popups</a>
    <a href="../examples/querying-feature-layers-1.html">Querying Features #1</a>
    <a href="../examples/querying-feature-layers-2.html">Querying Features #2</a>
    <a href="../examples/spatial-queries.html">Spatial Queries</a>
    <a href="../examples/simplifying-complex-features.html">Simplifying Complex Features</a>
    <a href="../examples/zooming-to-all-features-1.html">Zoom to all Features #1</a>
    <a href="../examples/zooming-to-all-features-2.html">Zoom to all Features #2</a>
    <a href="../examples/labeling-features.html">Labeling Features</a>
    <a href="../examples/layer-ordering.html">Ordering Layers</a>
    <a href="../examples/simple-editing.html">Editing #1</a>
    <a href="../examples/editable.html">Editing #2</a>
    <a href="../examples/cedar-chart.html">Dynamic Chart (Cedar)</a>
    <a href="../examples/dynamic-chart.html">Dynamic Chart (Chart.js)</a>
  </nav>

  <h5>Feature Layer Plugins</h5>
  <nav>
    <a href="../examples/visualize-points-as-a-heatmap.html">Points as a Heatmap</a>
    <a href="../examples/styling-heatmaps.html">Styling a Heatmap</a>
    <a href="../examples/visualizing-time-with-feature-layer.html">Time Enabled Services</a>
    <a href="../examples/clustering-feature-layers.html">Clustering Points</a>
    <a href="../examples/styling-clusters.html">Styling Clusters</a>
  </nav>

  <h5>Tile Layers</h5>
  <nav>
    <a href="../examples/tile-layer-1.html">Tiles from a Map Service #1</a>
    <a href="../examples/tile-layer-2.html">Tiles from a Map Service #2</a>
  </nav>

  <h5>Dynamic Map Layer</h5>
  <nav>
    <a href="../examples/simple-dynamic-map-layer.html">Simple Dynamic Map Layer</a>
    <a href="../examples/identifying-features.html">Identifying Features</a>
    <a href="../examples/customizing-popups.html">Custom Popups</a>
    <a href="../examples/visualizing-time-on-dynamic-map-layer.html">Time Ranges</a>
  </nav>

  <h5>Image Map Layer</h5>
  <nav>
    <a href="../examples/simple-image-map-layer.html">Simple Image Map Layer</a>
    <a href="../examples/image-map-layer-rendering-rule.html">Rendering Rule</a>
    <a href="../examples/identifying-imagery.html">Identify Imagery</a>
    <a href="../examples/image-map-layer-mosaic-rule.html">Mosaic Rule</a>
    <a href="../examples/imagery-popups.html">Custom Popups</a>
    <a href="../examples/visualizing-time-on-image-layer.html">Time Ranges</a>
  </nav>

  <h5>Non-Mercator Projections</h5>
  <nav>
    <a href="../examples/non-mercator-projection.html">Tiles + Feature Layer</a>
    <a href="../examples/non-mercator-projection-2.html">Tiles + Dynamic Map Layer</a>
  </nav>

  <h5>Query</h5>
  <nav>
    <a href="../examples/feature-layer-snapshot.html">Layer "Snapshot"</a>
    <a href="../examples/query-no-map.html">Query without a Map</a>
  </nav>

  <h5>Authentication</h5>
  <nav>
    <a href="../examples/arcgis-online-auth.html">ArcGIS Online OAuth</a>
    <a href="../examples/premium-content.html">Premium ArcGIS Online Content</a>
    <a href="../examples/arcgis-server-auth.html">ArcGIS Server username/password</a>
  </nav>

  <h5>Geocoding</h5>
  <nav>
    <a href="../examples/geocoding-control.html">Geocoding Control</a>
    <a href="../examples/search-map-service.html">Searching Map Services</a>
    <a href="../examples/search-feature-layer.html">Searching Feature Layers</a>
    <a href="../examples/search-feature-layer-search-mode.html">Geocoding Control - searchMode</a>
    <a href="../examples/center-map-on-address.html">Center the Initial Map State</a>
    <a href="../examples/reverse-geocoding.html">Reverse Geocoding</a>
  </nav>

  <h5>Other Plugins</h5>
  <nav>
    <a href="../examples/renderers-plugin.html">Server Side Rendering</a>
    <a href="../examples/stream-plugin.html">Stream Layer</a>
    <a href="../examples/webmap.html?id=d143b33f1a02421d86b6a4ca1d7b7cd0">Loading Webmaps</a>
    <a href="../examples/gp-plugin.html">Geoprocessing</a>
  </nav>

  <h5>Misc.</h5>
  <nav>
    <a href="../examples/layers-control.html">Control.Layers</a>
    <a href="../examples/turf.html">Turf.js Mashup</a>
    <a href="../examples/getting-service-metadata.html">Getting Service Metadata</a>
    <a href="../examples/parse-feature-collection.html">Parsing Feature Collections</a>
  </nav>
</aside>

</div>

</div>

  <div style="clear:both;"></div>
</div>

  <div class="container center-text">
    <p class="copyright"><a href="https://github.com/esri/esri-leaflet#terms">Terms</a></p>
  </div>
  <script src="../js/script.js"></script>
  </body>
</html>