<!DOCTYPE html>
<html>
  <head>
    <title>ArcGIS Feature Service</title>
    <link rel="stylesheet" href="../vendor/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="../src/esri-leaflet.css" />
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="leaflet.ie.css" />
    <![endif]-->

    <script src="../vendor/leaflet/dist/leaflet-src.js"></script>
    <script src="../vendor/terraformer/dist/browser/terraformer.js"></script>
    <script src="../vendor/terraformer/dist/browser/rtree.js"></script>
    <script src="../vendor/terraformer/dist/browser/arcgis.js"></script>
    <script src="../vendor/arcgis-node/browser/arcgis.js"></script>

    <script src="../src/Layers/TileLayer.js"></script>
    <script src="../src/Layers/FeatureLayer.js"></script>

    <style>
      html, body, #map {
        width: 100%;
        height: 100%;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      map = L.map('map').setView([45.533915622222, -122.61919973576], 16);
      // Add ArcGIS Online basemap
      L.esri.tileLayer("Topographic").addTo(map);
      // Add ArcGIS Online feature service
      var lyr = L.esri.featureLayer('http://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/stops/FeatureServer/0/',{});
      lyr.on("click", function (e) {
        e.layer.bindPopup(e.layer.feature.properties.stop_desc);
      });
      lyr.addTo(map);
    </script>
  </body>
</html>