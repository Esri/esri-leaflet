<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="not-ie"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  
    <title>request | Esri Leaflet</title>
  

  
    <meta name="description" content="A lightweight set of tools for using ArcGIS services with Leaflet.">
  

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--[if lt IE 9]>
    <script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv-printshiv.js"></script>
  <![endif]-->

  <!-- google fonts -->
  <link href="//fonts.googleapis.com/css?family=Vollkorn:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Source+Code+Pro:300">
  <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- stylesheet -->
  <link rel="stylesheet" href="../css/style.css">

  

  
    
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin=""/>
      <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
      integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
      crossorigin=""></script>
    

    
      <script src="https://unpkg.com/esri-leaflet@2.3.2/dist/esri-leaflet.js"
      integrity="sha512-6LVib9wGnqVKIClCduEwsCub7iauLXpwrd5njR2J507m3A2a4HXJDLMiSZzjcksag3UluIfuW1KzuWVI5n/cuQ=="
      crossorigin=""></script>
    

  

  

  

  <!-- Google Analytics -->
  <script>
    /* eslint-disable */
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44963317-3', 'auto');
    ga('send', 'pageview');
    /* eslint-enable */
  </script>
  <!-- End Google Analytics -->
</head>
<body>
  <div class="page-content ">
    <div class="container">
      <span id="mobileMenuButton" class="mobileMenuButton">&#9776;</span>
      <a class="site-nav" href="../" class="left logo">Esri Leaflet</a>
      <nav id="site-nav-wrapper" class="site-nav-wrapper">
        <a class="site-nav" href="../tutorials/">Tutorials</a>
        <a class="site-nav" href="../plugins/">Plugins</a>
        <a class="site-nav" href="../examples/">Examples</a>
        <a class="site-nav" href="../api-reference/">API Reference</a>
        <a class="site-nav" href="../download/">Download</a>
        <a class="site-nav" href="https://github.com/Esri/esri-leaflet">View on GitHub</a>
      </nav>
    </div>
    <div id="background-map" class="background-map"></div>

  

<div class="container white">
  

<aside class="sidebar">
  <h5>Layers</h5>
  <nav>
    <a href="../api-reference/layers/basemap-layer.html">Basemap Layer</a>
    <a href="../api-reference/layers/feature-layer.html">Feature Layer</a>
    <a href="../api-reference/layers/tiled-map-layer.html">Tiled Map Layer</a>
    <a href="../api-reference/layers/dynamic-map-layer.html">Dynamic Map Layer</a>
    <a href="../api-reference/layers/image-map-layer.html">Image Map Layer</a>
    <a class="experimental" href="../api-reference/layers/vector-basemap.html">Vector Basemap</a>
    <a class="plugin" href="../api-reference/layers/heatmap-feature-layer.html">Heatmap Feature Layer</a>
    <a class="plugin" href="../api-reference/layers/cluster-feature-layer.html">Cluster Feature Layer</a>
    <a class="experimental" href="../api-reference/layers/vector-layer.html">Vector Layer</a>
  </nav>

  <h5>Controls</h5>
  <nav>
    <a class="plugin" href="../api-reference/controls/geosearch.html" class="plugin">Geosearch</a>
  </nav>

  <h5>Tasks</h5>
  <nav>
    <a href="../api-reference/tasks/query.html">Query</a>
    <a href="../api-reference/tasks/find.html">Find</a>
    <a href="../api-reference/tasks/identify-features.html">Identify Features</a>
    <a href="../api-reference/tasks/identify-image.html">Identify Image</a>
    <a class="plugin" href="../api-reference/tasks/geocode.html">Geocode</a>
    <a class="plugin" href="../api-reference/tasks/reverse-geocode.html">Reverse Geocode</a>
    <a class="plugin" href="../api-reference/tasks/suggest.html">Suggest</a>
    <a class="plugin" href="../api-reference/tasks/gp.html">Geoprocessing Task</a>
    <a class="plugin" href="../api-reference/tasks/query-related.html">Query Related</a>
  </nav>

  <h5>Base Classes</h5>
  <nav>
    <a href="../api-reference/services/image-service.html">ImageService</a>
    <a href="../api-reference/services/feature-layer-service.html">FeatureLayerService</a>
    <a href="../api-reference/services/map-service.html">MapService</a>
    <a class="plugin" href="../api-reference/services/geocode-service.html">Geocode Service</a>
    <a class="plugin" href="../api-reference/services/gp-service.html">Geoprocessing Service</a>
    <a href="../api-reference/tasks/task.html">Task</a>
    <a href="../api-reference/services/service.html">Service</a>
    <a href="../api-reference/layers/raster-layer.html">Raster Layer</a>
  </nav>

  <h5>Misc.</h5>
  <nav>
    <a href="../api-reference/util.html">Util</a>
    <a href="../api-reference/request.html">request</a>
    <a href="../api-reference/options.html">options</a>
    <a href="../api-reference/events.html">Events</a>
  </nav>
</aside>


<div class="main-content">
  <h1 id="l-esri-request">L.esri.request</h1>
<p>Generic methods to make GET and POST requests to ArcGIS Online and ArcGIS Enterprise. These methods will handle serializing the input parameters and parsing of the response, making them available in a callback function via a response and error property similar to Node.js.</p>
<p>GET requests will be made with <code>XMLHttpRequest</code> (via CORS) if the browser supports it and will fallback to JSONP. POST requests will always be made with <code>XMLHttpRequest</code> (via CORS). The <a href="https://github.com/Esri/resource-proxy">ArcGIS Resource Proxy</a> or something similar must be configured to support cross domain requests via <a href="../api-reference/services/service.html"><code>L.esri.Service</code></a> if CORS cannot be leveraged.</p>
<p>If you are using a version of ArcGIS Server older than 10.1, CORS is not enabled by default but can be configured using the documentation available at <a href="https://enable-cors.org/">https://enable-cors.org/</a>. If you cannot enable CORS, the following line of code will force all requests to be made using JSONP instead.</p>
<pre><code class="language-js">L.esri.Support.cors = <span class="literal">false</span>;</code></pre>
<h3 id="l-esri-request-url-params-callback-">L.esri.request(url, params, callback);</h3>
<p>Executes a GET or POST via <code>XMLHttpRequest</code> or JSONP request depending on the capabilities of the browser and the length of the request. GET is used when the browser supports CORS and the request url is less then 2000 characters. POST is used when the browser supports CORS and the request exceeds 2000 characters. JSONP is used when the request is less then 2000 characters and the browser does not support CORS.</p>
<h4 id="params">Params</h4>
<table>
<thead>
<tr>
<th>Param</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td><code>String</code></td>
<td>The URL to request.</td>
</tr>
<tr>
<td><code>params</code></td>
<td><code>Object</code></td>
<td>The parameters to send as a query string.</td>
</tr>
<tr>
<td><code>callback</code></td>
<td><code>Function</code></td>
<td>Function to run when the request completes, will be passed an <code>error</code> and <code>response</code>.</td>
</tr>
<tr>
<td><code>context</code></td>
<td><code>Object</code></td>
<td>Optional function context for the callback.</td>
</tr>
</tbody>
</table>
<h4 id="example">Example</h4>
<pre><code class="language-js">L.esri.request(<span class="string">'https://www.portlandmaps.com/arcgis/rest/services/Public/Parks_Misc/MapServer/21/'</span>, {}, <span class="function"><span class="keyword">function</span> <span class="params">(error, response)</span> {</span>
  <span class="keyword">if</span> (error) {
    console.log(error);
  } <span class="keyword">else</span> {
    console.log(response.name);
  }
});</code></pre>
<h3 id="l-esri-get-url-params-callback-">L.esri.get(url, params, callback)</h3>
<p>Execute a GET request via `XMLHttpRequest&#39; (via CORS) or JSON depending on what is available in the browser.</p>
<p><strong>Note</strong>: ArcGIS Server before 10.1 does not have CORS support enabled by default. You can either enable CORS on your server or tell Esri Leaflet to always make JSONP requests with <code>L.esri.get = L.esri.Request.get.JSONP;</code> After you load Esri leaflet, but before calling your own scripts.</p>
<h4 id="params">Params</h4>
<table>
<thead>
<tr>
<th>Param</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td><code>String</code></td>
<td>The URL to request.</td>
</tr>
<tr>
<td><code>params</code></td>
<td><code>Object</code></td>
<td>The parameters to send as a query string.</td>
</tr>
<tr>
<td><code>callback</code></td>
<td><code>Function</code></td>
<td>Function to run when the request completes, will be passed <code>error</code> and <code>response</code>.</td>
</tr>
<tr>
<td><code>context</code></td>
<td><code>Object</code></td>
<td>Optional function context for the callback.</td>
</tr>
</tbody>
</table>
<h4 id="example">Example</h4>
<pre><code class="language-js">L.esri.get(<span class="string">'https://www.portlandmaps.com/arcgis/rest/services/Public/Parks_Misc/MapServer/21/'</span>, {}, <span class="function"><span class="keyword">function</span> <span class="params">(error, response)</span> {</span>
  <span class="keyword">if</span> (error) {
    console.log(error);
  } <span class="keyword">else</span> {
    console.log(response.name);
  }
});</code></pre>
<h3 id="l-esri-post-url-params-callback-">L.esri.post(url, params, callback)</h3>
<p>Execute a POST request via `XMLHttpRequest&#39; (via CORS).</p>
<p>This request is made via <code>XMLHttpRequest</code> which cannot make cross domain requests in IE 8 and 9. Esri Leaflet supports both the <a href="https://developers.arcgis.com/javascript/jshelp/ags_proxy.html">ArcGIS API for JavaScript proxy</a> and the <a href="https://github.com/Esri/resource-proxy">ArcGIS Resource Proxy</a> which can be hosted on your server and used with the <a href="../api-reference/services/service.html"><code>L.esri.Service</code></a> classes to work around this issue.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td><code>String</code></td>
<td>The URL to request.</td>
</tr>
<tr>
<td><code>params</code></td>
<td><code>Object</code></td>
<td>The parameters to send as a query string.</td>
</tr>
<tr>
<td><code>callback</code></td>
<td><code>Function</code></td>
<td>Function to run when the request completes, will be passed <code>error</code> and <code>response</code>.</td>
</tr>
<tr>
<td><code>context</code></td>
<td><code>Object</code></td>
<td>Optional function context for the callback.</td>
</tr>
</tbody>
</table>
<h4 id="example">Example</h4>
<pre><code class="language-js">L.esri.post(<span class="string">'https://www.portlandmaps.com/arcgis/rest/services/Public/Parks_Misc/MapServer/21/'</span>, {}, <span class="function"><span class="keyword">function</span> <span class="params">(error, response)</span> {</span>
  <span class="keyword">if</span> (error) {
    console.log(error);
  } <span class="keyword">else</span> {
    console.log(response.name);
  }
});</code></pre>

  <p><a href="https://github.com/Esri/esri-leaflet-doc/edit/master/src/pages/api-reference/request.md">Edit this page on GitHub</a></p>

  <div class="mobile-menu">
    <aside class="sidebar">
  <h5>Layers</h5>
  <nav>
    <a href="../api-reference/layers/basemap-layer.html">Basemap Layer</a>
    <a href="../api-reference/layers/feature-layer.html">Feature Layer</a>
    <a href="../api-reference/layers/tiled-map-layer.html">Tiled Map Layer</a>
    <a href="../api-reference/layers/dynamic-map-layer.html">Dynamic Map Layer</a>
    <a href="../api-reference/layers/image-map-layer.html">Image Map Layer</a>
    <a class="experimental" href="../api-reference/layers/vector-basemap.html">Vector Basemap</a>
    <a class="plugin" href="../api-reference/layers/heatmap-feature-layer.html">Heatmap Feature Layer</a>
    <a class="plugin" href="../api-reference/layers/cluster-feature-layer.html">Cluster Feature Layer</a>
    <a class="experimental" href="../api-reference/layers/vector-layer.html">Vector Layer</a>
  </nav>

  <h5>Controls</h5>
  <nav>
    <a class="plugin" href="../api-reference/controls/geosearch.html" class="plugin">Geosearch</a>
  </nav>

  <h5>Tasks</h5>
  <nav>
    <a href="../api-reference/tasks/query.html">Query</a>
    <a href="../api-reference/tasks/find.html">Find</a>
    <a href="../api-reference/tasks/identify-features.html">Identify Features</a>
    <a href="../api-reference/tasks/identify-image.html">Identify Image</a>
    <a class="plugin" href="../api-reference/tasks/geocode.html">Geocode</a>
    <a class="plugin" href="../api-reference/tasks/reverse-geocode.html">Reverse Geocode</a>
    <a class="plugin" href="../api-reference/tasks/suggest.html">Suggest</a>
    <a class="plugin" href="../api-reference/tasks/gp.html">Geoprocessing Task</a>
    <a class="plugin" href="../api-reference/tasks/query-related.html">Query Related</a>
  </nav>

  <h5>Base Classes</h5>
  <nav>
    <a href="../api-reference/services/image-service.html">ImageService</a>
    <a href="../api-reference/services/feature-layer-service.html">FeatureLayerService</a>
    <a href="../api-reference/services/map-service.html">MapService</a>
    <a class="plugin" href="../api-reference/services/geocode-service.html">Geocode Service</a>
    <a class="plugin" href="../api-reference/services/gp-service.html">Geoprocessing Service</a>
    <a href="../api-reference/tasks/task.html">Task</a>
    <a href="../api-reference/services/service.html">Service</a>
    <a href="../api-reference/layers/raster-layer.html">Raster Layer</a>
  </nav>

  <h5>Misc.</h5>
  <nav>
    <a href="../api-reference/util.html">Util</a>
    <a href="../api-reference/request.html">request</a>
    <a href="../api-reference/options.html">options</a>
    <a href="../api-reference/events.html">Events</a>
  </nav>
</aside>

  </div>
</div>

  <div style="clear:both;"></div>
</div>

  <div class="container center-text">
    <p class="copyright"><a href="https://github.com/esri/esri-leaflet#terms">Terms</a></p>
  </div>
  <script src="../js/script.js"></script>
  </body>
</html>