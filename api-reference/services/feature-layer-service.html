<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="not-ie"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  
    <title>L.esri.FeatureLayerService | Esri Leaflet</title>
  

  
    <meta name="description" content="A lightweight set of tools for using ArcGIS services with Leaflet.">
  

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--[if lt IE 9]>
    <script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv-printshiv.js"></script>
  <![endif]-->

  <!-- google fonts -->
  <link href="//fonts.googleapis.com/css?family=Vollkorn:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Source+Code+Pro:300">
  <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- stylesheet -->
  <link rel="stylesheet" href="../../css/style.css">

  

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

  
    <script src="https://unpkg.com/esri-leaflet@3.0.2/dist/esri-leaflet.js"
      integrity="sha512-myckXhaJsP7Q7MZva03Tfme/MSF5a6HC2xryjAM4FxPLHGqlh5VALCbywHnzs2uPoF/4G/QVXyYDDSkp5nPfig=="
      crossorigin=""></script>
  

  

  

  

  
</head>
<body>
  <div class="page-content ">
    <div class="container">
      <span id="mobileMenuButton" class="mobileMenuButton">&#9776;</span>
      <a class="site-nav" href="../../" class="left logo">Esri Leaflet</a>
      <nav id="site-nav-wrapper" class="site-nav-wrapper">
        <a class="site-nav" href="../../tutorials/">Tutorials</a>
        <a class="site-nav" href="../../examples/">Examples</a>
        <a class="site-nav" href="../../api-reference/">API Reference</a>
        <a class="site-nav" href="../../plugins/">Plugins</a>
        <a class="site-nav" href="../../download/">Download</a>
        <a class="site-nav" href="https://github.com/Esri/esri-leaflet">View on GitHub</a>
      </nav>
    </div>
    <div id="background-map" class="background-map"></div>

  

<div class="container white">
  

<aside class="sidebar">
  <h5>Layers</h5>
  <nav>
    <a href="../../api-reference/layers/basemap-layer.html">Basemap Layer</a>
    <a class="plugin" href="../../api-reference/layers/cluster-feature-layer.html">Cluster Feature Layer</a>
    <a href="../../api-reference/layers/dynamic-map-layer.html">Dynamic Map Layer</a>
    <a href="../../api-reference/layers/feature-layer.html">Feature Layer</a>
    <a class="plugin" href="../../api-reference/layers/heatmap-feature-layer.html">Heatmap Feature Layer</a>
    <a href="../../api-reference/layers/image-map-layer.html">Image Map Layer</a>
    <a href="../../api-reference/layers/tiled-map-layer.html">Tiled Map Layer</a>
    <a class="plugin" href="../../api-reference/layers/vector-basemap.html">Vector Basemap</a>
    <a class="plugin" href="../../api-reference/layers/vector-layer.html">Vector Layer</a>
  </nav>

  <h5>Controls</h5>
  <nav>
    <a class="plugin" href="../../api-reference/controls/geosearch.html" class="plugin">Geosearch</a>
  </nav>

  <h5>Tasks</h5>
  <nav>
    <a href="../../api-reference/tasks/find.html">Find</a>
    <a class="plugin" href="../../api-reference/tasks/geocode.html">Geocode</a>
    <a class="plugin" href="../../api-reference/tasks/reverse-geocode.html">Reverse Geocode</a>
    <a class="plugin" href="../../api-reference/tasks/suggest.html">Suggest</a>
    <a class="plugin" href="../../api-reference/tasks/gp.html">Geoprocessing Task</a>
    <a href="../../api-reference/tasks/identify-features.html">Identify Features</a>
    <a href="../../api-reference/tasks/identify-image.html">Identify Image</a>
    <a href="../../api-reference/tasks/query.html">Query</a>
    <a class="plugin" href="../../api-reference/tasks/query-related.html">Query Related</a>
  </nav>

  <h5>Misc.</h5>
  <nav>
    <a href="../../api-reference/events.html">Events</a>
    <a href="../../api-reference/options.html">options</a>
    <a href="../../api-reference/request.html">request</a>
    <a href="../../api-reference/util.html">Util</a>
  </nav>

  <h5>Base Classes</h5>
  <nav>
    <a href="../../api-reference/services/feature-layer-service.html">FeatureLayerService</a>
    <a class="plugin" href="../../api-reference/services/geocode-service.html">Geocode Service</a>
    <a class="plugin" href="../../api-reference/services/gp-service.html">Geoprocessing Service</a>
    <a href="../../api-reference/services/image-service.html">ImageService</a>
    <a href="../../api-reference/services/map-service.html">MapService</a>
    <a href="../../api-reference/layers/raster-layer.html">Raster Layer</a>
    <a href="../../api-reference/services/service.html">Service</a>
    <a href="../../api-reference/tasks/task.html">Task</a>
  </nav>
</aside>


<div class="main-content">
  <h1 id="l-esri-featurelayerservice">L.esri.FeatureLayerService</h1>
<p>Extends <a href="../../api-reference/services/service.html"><code>L.esri.Service</code></a></p>
<p><code>L.esri.FeatureLayerService</code> is an abstraction for interacting with Feature Layers running on ArcGIS Online and ArcGIS Server that allows you to make requests to the API, as well as query, add, update and remove features from the service.</p>
<h3 id="constructor">Constructor</h3>
<table>
    <thead>
        <tr>
            <th>Constructor</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code class="nobr">L.esri.featureLayerService(<span>&lt;Object&gt;</span> <code>options</code>)</code></td>
            <td><code>options</code> for configuring the ArcGIS Server or ArcGIS Online feature layer you would like to consume. <code>Options</code> include a <code>url</code> parameter which refers to the ArcGIS Server or ArcGIS Online service you would like to consume.</td>
        </tr>
    </tbody>
</table>

<h3 id="options">Options</h3>
<p><code>L.esri.FeatureLayerService</code> accepts all <a href="../../api-reference/services/service.html"><code>L.esri.Service</code></a> options.</p>
<h3 id="events">Events</h3>
<p><code>L.esri.FeatureLayerService</code> fires all  <a href="../../api-reference/services/service.html"><code>L.esri.service</code></a> events.</p>
<h3 id="methods">Methods</h3>
<table>
    <thead>
        <tr>
            <th>Method</th>
            <th>Returns</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>query()</code></td>
            <td><code>this</code></td>
            <td>
                Returns a new <a href="../../api-reference/tasks/query.html"><code>L.esri.Query</code></a> object that can be used to query this layer.<pre class="js"><code>featureLayer.query()
  .within(latlngbounds)
  .where(&quot;Direction = &#39;WEST&#39;&quot;)
  .run(function (error, featureCollection, response) {
    console.log(featureCollection);
  });
</code></pre>
            </td>
        </tr>
        <tr>
            <td><code>addFeature(<span>&lt;<a href="https://tools.ietf.org/html/rfc7946#section-3.2">GeoJSON Feature</a>&gt;</span> <code>feature</code>, <span>&lt;Function&gt;</span> <code>callback</code>, <span>&lt;Object&gt;</span> <code>context</code>)</code></td>
            <td><code>this</code></td>
            <td>
                Adds a new feature to the feature layer. this also adds the feature to the map if creation is successful.
                <ul>
                    <li>Requires authentication as a user who has permission to edit the service in ArcGIS Online or the user who created the service.</li>
                    <li>Requires the <code>Create</code> capability be enabled on the service. You can check if creation exists by checking the metadata of your service under capabilities.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><code>updateFeature(<span>&lt;<a href="https://tools.ietf.org/html/rfc7946#section-3.2">GeoJSON Feature</a>&gt;</span> <code>feature</code>, <span>&lt;Function&gt;</span> <code>callback</code>, <span>&lt;Object&gt;</span> <code>context</code>)</code></td>
            <td><code>this</code></td>
            <td>
                Update the provided feature on the Feature Layer. This also updates the feature on the map.
                <ul>
                    <li>Requires authentication as a user who has permission to edit the service in ArcGIS Online or the user who created the service.</li>
                    <li>Requires the <code>Update</code> capability be enabled on the service. You can check if this operation exists by checking the metadata of your service under capabilities.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><code>deleteFeature(<span>&lt;String or Integer&gt;</span> <code>id</code>, <span>&lt;Function&gt;</span> <code>callback</code>, <span>&lt;Object&gt;</span> <code>context</code>)</code></td>
            <td><code>this</code></td>
            <td>
                Remove the feature with the provided id from the feature layer. This will also remove the feature from the map if it exists.
                <ul>
                    <li>Requires authentication as a user who has permission to edit the service in ArcGIS Online or the user who created the service.</li>
                    <li>Requires the <code>Delete</code> capability be enabled on the service. You can check if this operation exists by checking the metadata of your service under capabilities.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><code>deleteFeatures(<span>&lt;Array of String or Integers&gt;</span> <code>ids</code>, <span>&lt;Function&gt;</span> <code>callback</code>, <span>&lt;Object&gt;</span> <code>context</code>)</code></td>
            <td><code>this</code></td>
            <td>
                Removes an array of features with the provided ids from the feature layer. This will also remove the features from the map if they exist.
                <ul>
                    <li>Requires authentication as a user who has permission to edit the service in ArcGIS Online or the user who created the service.</li>
                    <li>Requires the <code>Delete</code> capability be enabled on the service. You can check if this operation exists by checking the metadata of your service under capabilities.</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>

<h3 id="examples">Examples</h3>
<p><strong>Note</strong>: These examples use a public feature service on ArcGIS Online that does not require authentication.</p>
<h5 id="adding-features">Adding Features</h5>
<pre><code class="language-js"><span class="keyword">var</span> service = L.esri.featureLayerService({
  url: <span class="string">'https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Pubic_Feature_Service/FeatureServer/0'</span>
});

<span class="keyword">var</span> feature = {
  type: <span class="string">'Feature'</span>,
  geometry: {
    type: <span class="string">'Point'</span>,
    coordinates: [-<span class="number">122</span>, <span class="number">45</span>]
  },
  properties: {
    name: <span class="string">'Hello World'</span>
  }
};

service.addFeature(feature, <span class="function"><span class="keyword">function</span> <span class="params">(error, response)</span> {</span>
  <span class="keyword">if</span> (error) {
    console.log(<span class="string">'error creating feature'</span> + error.message);
  } <span class="keyword">else</span> {
    console.log(<span class="string">'Successfully created feature with id '</span> + response.objectId);
  }
});</code></pre>
<h5 id="updating-features">Updating Features</h5>
<pre><code class="language-js"><span class="keyword">var</span> service = L.esri.featureLayerService({
  url: <span class="string">'https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Pubic_Feature_Service/FeatureServer/0'</span>
});

<span class="keyword">var</span> feature = {
  type: <span class="string">'Feature'</span>,
  id: <span class="number">2</span>,
  geometry: {
    type: <span class="string">'Point'</span>,
    coordinates: [-<span class="number">122</span>, <span class="number">45</span>]
  },
  properties: {
    name: <span class="string">'Hi I\'m Feature 2'</span>
  }
};

service.updateFeature(feature, <span class="function"><span class="keyword">function</span> <span class="params">(error, response)</span> {</span>
  <span class="keyword">if</span> (error) {
    console.log(<span class="string">'error updating feature'</span> + error.message);
  } <span class="keyword">else</span> {
    console.log(<span class="string">'Successfully updated feature '</span> + feature.id);
  }
});</code></pre>
<h5 id="deleting-features">Deleting Features</h5>
<pre><code class="language-js"><span class="keyword">var</span> service = L.esri.featureLayerService({
  url: <span class="string">'https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Pubic_Feature_Service/FeatureServer/0'</span>
});

service.deleteFeature(<span class="number">2</span>, <span class="function"><span class="keyword">function</span> <span class="params">(error, response)</span> {</span>
  <span class="keyword">if</span> (error) {
    console.log(<span class="string">'error deleting feature'</span> + error.message);
  } <span class="keyword">else</span> {
    console.log(<span class="string">'Successfully deleted feature '</span> + response.objectId);
  }
});</code></pre>
<h5 id="querying-features">Querying Features</h5>
<pre><code class="language-js"><span class="keyword">var</span> service = L.esri.featureLayerService({
  url: <span class="string">'https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Pubic_Feature_Service/FeatureServer/0'</span>
});

service.query().where(<span class="string">"name='Hello World'"</span>).run(<span class="function"><span class="keyword">function</span> <span class="params">(error, featureCollection, response)</span> {</span>
  <span class="keyword">if</span> (error) {
    console.log(error);
    <span class="keyword">return</span>;
  }
  console.log(featureCollection.features[<span class="number">0</span>].properties.name);
});</code></pre>

  <p><a href="https://github.com/Esri/esri-leaflet-doc/edit/master/src/pages/api-reference/services/feature-layer-service.md">Edit this page on GitHub</a></p>

  <div class="mobile-menu">
    <aside class="sidebar">
  <h5>Layers</h5>
  <nav>
    <a href="../../api-reference/layers/basemap-layer.html">Basemap Layer</a>
    <a class="plugin" href="../../api-reference/layers/cluster-feature-layer.html">Cluster Feature Layer</a>
    <a href="../../api-reference/layers/dynamic-map-layer.html">Dynamic Map Layer</a>
    <a href="../../api-reference/layers/feature-layer.html">Feature Layer</a>
    <a class="plugin" href="../../api-reference/layers/heatmap-feature-layer.html">Heatmap Feature Layer</a>
    <a href="../../api-reference/layers/image-map-layer.html">Image Map Layer</a>
    <a href="../../api-reference/layers/tiled-map-layer.html">Tiled Map Layer</a>
    <a class="plugin" href="../../api-reference/layers/vector-basemap.html">Vector Basemap</a>
    <a class="plugin" href="../../api-reference/layers/vector-layer.html">Vector Layer</a>
  </nav>

  <h5>Controls</h5>
  <nav>
    <a class="plugin" href="../../api-reference/controls/geosearch.html" class="plugin">Geosearch</a>
  </nav>

  <h5>Tasks</h5>
  <nav>
    <a href="../../api-reference/tasks/find.html">Find</a>
    <a class="plugin" href="../../api-reference/tasks/geocode.html">Geocode</a>
    <a class="plugin" href="../../api-reference/tasks/reverse-geocode.html">Reverse Geocode</a>
    <a class="plugin" href="../../api-reference/tasks/suggest.html">Suggest</a>
    <a class="plugin" href="../../api-reference/tasks/gp.html">Geoprocessing Task</a>
    <a href="../../api-reference/tasks/identify-features.html">Identify Features</a>
    <a href="../../api-reference/tasks/identify-image.html">Identify Image</a>
    <a href="../../api-reference/tasks/query.html">Query</a>
    <a class="plugin" href="../../api-reference/tasks/query-related.html">Query Related</a>
  </nav>

  <h5>Misc.</h5>
  <nav>
    <a href="../../api-reference/events.html">Events</a>
    <a href="../../api-reference/options.html">options</a>
    <a href="../../api-reference/request.html">request</a>
    <a href="../../api-reference/util.html">Util</a>
  </nav>

  <h5>Base Classes</h5>
  <nav>
    <a href="../../api-reference/services/feature-layer-service.html">FeatureLayerService</a>
    <a class="plugin" href="../../api-reference/services/geocode-service.html">Geocode Service</a>
    <a class="plugin" href="../../api-reference/services/gp-service.html">Geoprocessing Service</a>
    <a href="../../api-reference/services/image-service.html">ImageService</a>
    <a href="../../api-reference/services/map-service.html">MapService</a>
    <a href="../../api-reference/layers/raster-layer.html">Raster Layer</a>
    <a href="../../api-reference/services/service.html">Service</a>
    <a href="../../api-reference/tasks/task.html">Task</a>
  </nav>
</aside>

  </div>
</div>

  <div style="clear:both;"></div>
</div>

  <div class="container center-text">
    <p class="copyright"><a href="https://github.com/esri/esri-leaflet#terms">Terms</a></p>
  </div>
  <script src="../../js/script.js"></script>
  </body>
</html>